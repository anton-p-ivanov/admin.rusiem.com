"use strict";(self.webpackChunkadmin_rusiem_com=self.webpackChunkadmin_rusiem_com||[]).push([[561],{561:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var l=a(7294),n=a(2965),r=a(8681),s=a(7882);const c=function(e){var t=e.data;return l.createElement(s.BK,{data:t,baseUrl:"/content/articles"})};var i=a(7697);const o={title:{name:"title",label:"Название",hint:"Введите название публикации или его часть",defaultValue:""},publishedAt:{type:"date",name:"publishedAt",label:"Дата публикации",defaultValue:""},site:{type:"select",name:"site",label:"Сайт",hint:"Выберите сайт, на котором опубликована публикация",defaultValue:"",attrs:{placeholder:"- Любой сайт -",optionsCallback:function(){return i.Z.lookup("/sites")}}},locale:{type:"select",name:"locale",label:"Язык",hint:"Выберите язык, на котором написана публикация",defaultValue:"",attrs:{placeholder:"- Любой язык -",optionsCallback:function(){return i.Z.lookup("/locales")}}},isPublished:{type:"choices",name:"isPublished",label:"Показывать опубликованные публикации",defaultValue:"false",attrs:{isInline:!0,choices:[{value:"",label:"Все"},{value:"true",label:"Да"},{value:"false",label:"Нет"}]}}};var d=a(3884);const u={columns:[{name:"title",title:"Название"},{name:"publishedAt",title:"Дата публ."},{name:"locale",title:"Локаль"},{name:"isPublished",title:"Опубл."},{name:"updatedAt",title:"Дата изменения"},{name:"context",title:""}],templates:{row:function(e){var t=e.data;return l.createElement(l.Fragment,null,l.createElement("td",{className:"data-table__cell data-table__cell--title"},t.title),l.createElement("td",{className:"data-table__cell data-table__cell--publishedAt"},l.createElement(d.ZX,{format:"date",value:t.publishedAt})),l.createElement("td",{className:"data-table__cell data-table__cell--locale"},t.locale.toUpperCase()),l.createElement("td",{className:"data-table__cell data-table__cell--isPublished"},t.isPublished&&l.createElement(d.JO,{name:"check",variant:"success"}),!t.isPublished&&l.createElement(d.JO,{name:"x",variant:"muted"})),l.createElement("td",{className:"data-table__cell data-table__cell--updatedAt"},t.workflow?l.createElement(d.ZX,{format:"datetime",value:t.workflow.updatedAt}):l.createElement("em",null,"Нет данных")),l.createElement("td",{className:"data-table__cell data-table__cell--context"},l.createElement(c,{data:t})))},toolbar:function(e){var t=e.children;return l.createElement(s.Js,{createUrl:"/content/articles/create",createLabel:"Добавить публикацию"},t)}}};var m=a(3379),f=a.n(m),b=a(7795),p=a.n(b),_=a(569),v=a.n(_),E=a(3565),h=a.n(E),g=a(9216),y=a.n(g),Z=a(4589),w=a.n(Z),O=a(8775),P={};P.styleTagTransform=w(),P.setAttributes=h(),P.insert=v().bind(null,"head"),P.domAPI=p(),P.insertStyleElement=y(),f()(O.Z,P),O.Z&&O.Z.locals&&O.Z.locals;const A=(0,n.J)((0,r.Z)((function(){return l.createElement(n.Z,{endpoint:"/content/articles",columns:u.columns,templates:u.templates})}),(function(){return l.createElement(s.N2,{param:"content.articles.filter",fields:o})}),"Параметры фильтрации"));var N=a(1377);const x=function(){return l.createElement(N.Z,{title:"Контент :: Пресс-центр :: Публикации"},l.createElement(A,null))}},2965:(e,t,a)=>{a.d(t,{J:()=>u.Z,Z:()=>p});var l=a(4942),n=a(7294),r=a(4586),s=a(3884),c=a(2723),i=a(7390),o=a(8776),d=a(9466),u=a(325);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={sortBy:"updatedAt",sortOrder:"DESC"};const p=(0,o.Z)((function(e){var t=e.endpoint,a=e.columns,l=e.templates,c=e.sort,i=void 0===c?b:c,o=(0,u.o)(),m=o.state,p=o.update,_=o.request,v=m.pagination,E={endpoint:t,page:v.page,size:v.size,sort:m.sort},h=JSON.stringify(E);(0,n.useEffect)((function(){return p(f(f({},m),{},{sort:i}))}),[]),(0,n.useEffect)((function(){return m.sort&&_(E)}),[h,m.timestamp]);var g=l.toolbar,y=l.row;return n.createElement(n.Fragment,null,g&&n.createElement(g,null,n.createElement(d.Z,{columns:a})),n.createElement(s.bZ,{variant:"info",isVisible:m.isFiltered,isDismissible:!1},"Показаны все элементы с учётом параметров фильтрации"),n.createElement(s.wQ,{columns:a},"FETCHING"===m.status&&n.createElement(s.wQ.Loading,{span:a.length,rows:v.size}),"FETCH_FAILED"===m.status&&n.createElement(s.wQ.Error,{span:a.length}),"WAITING"===m.status&&n.createElement(n.Fragment,null,0===m.data.length&&n.createElement(s.wQ.Empty,{span:a.length}),m.data.map((function(e){return n.createElement(s.wQ.Row,{key:(0,r.Z)(),template:n.createElement(y,{data:e})})})))),n.createElement(s.tl,{resultsTotal:v.total,resultsPerPage:v.size,page:v.page,navigate:function(e){p(f(f({},m),{},{pagination:f(f({},v),{},{page:e})}))}}))}),(0,i.Z)(c.Z))},8681:(e,t,a)=>{a.d(t,{Z:()=>A});var l=a(885),n=a(7294),r=a(4184),s=a.n(r),c=a(3884),i=a(3379),o=a.n(i),d=a(7795),u=a.n(d),m=a(569),f=a.n(m),b=a(3565),p=a.n(b),_=a(9216),v=a.n(_),E=a(4589),h=a.n(E),g=a(1281),y={};y.styleTagTransform=h(),y.setAttributes=p(),y.insert=f().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=v(),o()(g.Z,y),g.Z&&g.Z.locals&&g.Z.locals;var Z=n.forwardRef((function(e,t){var a=e.title,l=e.isVisible,r=void 0===l||l,i=e.children,o=s()(["off-canvas",r&&"off-canvas--visible"]);return n.createElement("div",{className:o},n.createElement("div",{className:"off-canvas__content",ref:t},n.createElement("div",{className:"off-canvas__header"},a),n.createElement("div",{className:"off-canvas__body"},i)),r&&n.createElement(c.aV,null))}));Z.displayName="OffCanvas";const w=Z;var O=a(6625),P=a(3150);const A=function(e,t,a){var r=function(r){var s=(0,O.Z)(!1),c=(0,l.Z)(s,3),i=c[0],o=c[1],d=c[2],u=(0,n.useState)(!1),m=(0,l.Z)(u,2),f=m[0],b=m[1];return n.createElement(P.Z.Provider,{value:{toggle:function(e){d(void 0!==e?e:!o),b(!0)}}},n.createElement(e,r),n.createElement(w,{isVisible:o,ref:i,title:a},f&&n.createElement(t,null)))};return r.displayName=e.displayName||e.name||"Component",r}},1281:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(8081),n=a.n(l),r=a(3645),s=a.n(r)()(n());s.push([e.id,".off-canvas__content{display:flex;flex-direction:column;justify-content:stretch;position:fixed;z-index:1100;top:0;right:-400px;bottom:0;width:400px;background-color:#fff;box-shadow:0 1px 2px rgba(33,37,41,.25);transition:transform .2s ease-in-out}.off-canvas__header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1rem;font-size:1.25rem;letter-spacing:-0.025rem}.off-canvas__body{flex-grow:1;padding:1rem 1rem;overflow-y:auto}.off-canvas--visible .off-canvas__content{transform:translateX(-100%)}",""]);const c=s},8775:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(8081),n=a.n(l),r=a(3645),s=a.n(r)()(n());s.push([e.id,".data-table__col--updatedAt{width:12.625rem}.data-table__col--publishedAt{width:10.125rem}.data-table__col--isPublished,.data-table__col--locale{width:6.375rem}.data-table__cell--locale,.data-table__cell--isPublished{text-align:center}.data-table__header--locale,.data-table__header--isPublished{text-align:center}",""]);const c=s}}]);