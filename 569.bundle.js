"use strict";(self.webpackChunkadmin_rusiem_com=self.webpackChunkadmin_rusiem_com||[]).push([[569],{1569:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var n=a(7294),r=a(1377),l=a(2965),c=a(8681),s=a(7882);const o=function(e){var t=e.data;return n.createElement(s.BK,{data:t,baseUrl:"/mail/templates"})};var i=a(3884);const m={search:{name:"search",label:"Поиск",hint:"Введите название или символьный код шаблона"}};var u=a(4942);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,u.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const p={columns:[{name:"subject",title:"Тема"},{name:"code",title:"Симв. код"},{name:"updatedAt",title:"Дата изменения"},{name:"context",title:""}],templates:{row:function(e){var t=e.data;return n.createElement(n.Fragment,null,n.createElement("td",{className:"data-table__cell data-table__cell--title"},t.translations.ru.subject),n.createElement("td",{className:"data-table__cell data-table__cell--code"},t.code),n.createElement("td",{className:"data-table__cell data-table__cell--updatedAt"},t.workflow?n.createElement(i.ZX,{format:"datetime",value:t.workflow.updatedAt}):n.createElement("em",null,"Нет данных")),n.createElement("td",{className:"data-table__cell data-table__cell--context"},n.createElement(o,{data:f(f({},t),{},{title:t.translations.ru.subject})})))},toolbar:function(e){var t=e.children;return n.createElement(s.Js,{createUrl:"/mail/templates/create",createLabel:"Добавить шаблон"},t)}}};var b=a(3379),v=a.n(b),E=a(7795),_=a.n(E),g=a(569),h=a.n(g),y=a(3565),O=a.n(y),w=a(9216),Z=a.n(w),j=a(4589),P=a.n(j),x=a(2455),N={};N.styleTagTransform=P(),N.setAttributes=O(),N.insert=h().bind(null,"head"),N.domAPI=_(),N.insertStyleElement=Z(),v()(x.Z,N),x.Z&&x.Z.locals&&x.Z.locals;const A=(0,l.J)((0,c.Z)((function(){return n.createElement(l.Z,{endpoint:"/mail/templates",columns:p.columns,templates:p.templates})}),(function(){return n.createElement(s.N2,{param:"mail.templates.filter",fields:m},(function(e){return n.createElement(n.Fragment,null,n.createElement(i.l0.Field,{field:e.fields.search}))}))}),"Параметры фильтрации")),D=function(){return n.createElement(r.Z,{title:"Система :: Почтовые шаблоны"},n.createElement(A,null))}},2965:(e,t,a)=>{a.d(t,{J:()=>u.Z,Z:()=>b});var n=a(4942),r=a(7294),l=a(4586),c=a(3884),s=a(2723),o=a(7390),i=a(8776),m=a(9466),u=a(325);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={sortBy:"updatedAt",sortOrder:"DESC"};const b=(0,i.Z)((function(e){var t=e.endpoint,a=e.columns,n=e.templates,s=e.sort,o=void 0===s?p:s,i=(0,u.o)(),d=i.state,b=i.update,v=i.request,E=d.pagination,_={endpoint:t,page:E.page,size:E.size,sort:d.sort},g=JSON.stringify(_);(0,r.useEffect)((function(){return b(f(f({},d),{},{sort:o}))}),[]),(0,r.useEffect)((function(){return d.sort&&v(_)}),[g,d.timestamp]);var h=n.toolbar,y=n.row;return r.createElement(r.Fragment,null,h&&r.createElement(h,null,r.createElement(m.Z,{columns:a})),r.createElement(c.bZ,{variant:"info",isVisible:d.isFiltered,isDismissible:!1},"Показаны все элементы с учётом параметров фильтрации"),r.createElement(c.wQ,{columns:a},"FETCHING"===d.status&&r.createElement(c.wQ.Loading,{span:a.length,rows:E.size}),"FETCH_FAILED"===d.status&&r.createElement(c.wQ.Error,{span:a.length}),"WAITING"===d.status&&r.createElement(r.Fragment,null,0===d.data.length&&r.createElement(c.wQ.Empty,{span:a.length}),d.data.map((function(e){return r.createElement(c.wQ.Row,{key:(0,l.Z)(),template:r.createElement(y,{data:e})})})))),r.createElement(c.tl,{resultsTotal:E.total,resultsPerPage:E.size,page:E.page,navigate:function(e){b(f(f({},d),{},{pagination:f(f({},E),{},{page:e})}))}}))}),(0,o.Z)(s.Z))},8681:(e,t,a)=>{a.d(t,{Z:()=>P});var n=a(885),r=a(7294),l=a(4184),c=a.n(l),s=a(3884),o=a(3379),i=a.n(o),m=a(7795),u=a.n(m),d=a(569),f=a.n(d),p=a(3565),b=a.n(p),v=a(9216),E=a.n(v),_=a(4589),g=a.n(_),h=a(1281),y={};y.styleTagTransform=g(),y.setAttributes=b(),y.insert=f().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=E(),i()(h.Z,y),h.Z&&h.Z.locals&&h.Z.locals;var O=r.forwardRef((function(e,t){var a=e.title,n=e.isVisible,l=void 0===n||n,o=e.children,i=c()(["off-canvas",l&&"off-canvas--visible"]);return r.createElement("div",{className:i},r.createElement("div",{className:"off-canvas__content",ref:t},r.createElement("div",{className:"off-canvas__header"},a),r.createElement("div",{className:"off-canvas__body"},o)),l&&r.createElement(s.aV,null))}));O.displayName="OffCanvas";const w=O;var Z=a(6625),j=a(3150);const P=function(e,t,a){var l=function(l){var c=(0,Z.Z)(!1),s=(0,n.Z)(c,3),o=s[0],i=s[1],m=s[2],u=(0,r.useState)(!1),d=(0,n.Z)(u,2),f=d[0],p=d[1];return r.createElement(j.Z.Provider,{value:{toggle:function(e){m(void 0!==e?e:!i),p(!0)}}},r.createElement(e,l),r.createElement(w,{isVisible:i,ref:o,title:a},f&&r.createElement(t,null)))};return l.displayName=e.displayName||e.name||"Component",l}},1281:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(8081),r=a.n(n),l=a(3645),c=a.n(l)()(r());c.push([e.id,".off-canvas__content{display:flex;flex-direction:column;justify-content:stretch;position:fixed;z-index:1100;top:0;right:-400px;bottom:0;width:400px;background-color:#fff;box-shadow:0 1px 2px rgba(33,37,41,.25);transition:transform .2s ease-in-out}.off-canvas__header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1rem;font-size:1.25rem;letter-spacing:-0.025rem}.off-canvas__body{flex-grow:1;padding:1rem 1rem;overflow-y:auto}.off-canvas--visible .off-canvas__content{transform:translateX(-100%)}",""]);const s=c},2455:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(8081),r=a.n(n),l=a(3645),c=a.n(l)()(r());c.push([e.id,".data-table__col--updatedAt{width:12.625rem}.data-table__col--publishedAt{width:10.125rem}.data-table__col--isPublished,.data-table__col--locale{width:6.375rem}.data-table__cell--locale,.data-table__cell--isPublished{text-align:center}.data-table__header--locale,.data-table__header--isPublished{text-align:center}",""]);const s=c}}]);