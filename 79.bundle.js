"use strict";(self.webpackChunkadmin_rusiem_com=self.webpackChunkadmin_rusiem_com||[]).push([[79],{2079:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var n=a(7294),r=a(1377),l=a(2965),c=a(8681),s=a(3884),o=a(7882),i=a(7697);const m={search:{name:"search",label:"Поиск",hint:"Введите имя кандидата, его E-Mail или телефон"},publishedAt:{type:"date",name:"publishedAt",label:"Дата размещения"},vacancy:{type:"select",name:"vacancy",label:"Вакансия",hint:"Выберите вакансию, отклики на которую необходимо показать",attrs:{placeholder:"- Любая вакансия -",optionsCallback:function(){return i.Z.lookup("/vacancies/lookup")}}}},u=function(e){var t=e.data,a="/content/vacancies/responses",r=t.uuid||"unknown";return n.createElement(o.BK,{data:t,baseUrl:a},(function(e){return n.createElement(n.Fragment,null,n.createElement(s.vb.Link,{icon:"eye",route:"".concat(a,"/").concat(r,"/view")},"Просмотреть"),n.createElement(s.vb.Divider,null),n.createElement(s.vb.Button,{icon:"trash-2",onClick:e.remove},"Удалить"))}))};var d=a(4942);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,d.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const b={columns:[{name:"vacancy",title:"Вакансия"},{name:"fullName",title:"Кандидат"},{name:"email",title:"E-Mail"},{name:"phone",title:"Телефон"},{name:"updatedAt",title:"Дата размещения"},{name:"context",title:""}],templates:{row:function(e){var t=e.data;return n.createElement(n.Fragment,null,n.createElement("td",{className:"data-table__cell data-table__cell--vacancy"},t.vacancy.title),n.createElement("td",{className:"data-table__cell data-table__cell--fullName"},t.fullName),n.createElement("td",{className:"data-table__cell data-table__cell--email"},t.email),n.createElement("td",{className:"data-table__cell data-table__cell--phone"},t.phone),n.createElement("td",{className:"data-table__cell data-table__cell--updatedAt"},t.workflow?n.createElement(s.ZX,{format:"datetime",value:t.workflow.updatedAt}):n.createElement("em",null,"Нет данных")),n.createElement("td",{className:"data-table__cell data-table__cell--context"},n.createElement(u,{data:p(p({},t),{},{title:t.fullName})})))},toolbar:function(e){var t=e.children;return n.createElement(o.Js,null,t)}}};var v=a(3379),E=a.n(v),y=a(7795),g=a.n(y),_=a(569),h=a.n(_),O=a(3565),w=a.n(O),Z=a(9216),j=a.n(Z),N=a(4589),P=a.n(N),k=a(6282),x={};x.styleTagTransform=P(),x.setAttributes=w(),x.insert=h().bind(null,"head"),x.domAPI=g(),x.insertStyleElement=j(),E()(k.Z,x),k.Z&&k.Z.locals&&k.Z.locals;const A=(0,l.J)((0,c.Z)((function(){return n.createElement(l.Z,{endpoint:"/vacancies/responses",columns:b.columns,templates:b.templates})}),(function(){return n.createElement(o.N2,{param:"vacancies.responses.filter",fields:m},(function(e){return n.createElement(n.Fragment,null,n.createElement(s.l0.Field,{field:e.fields.search}),n.createElement(s.l0.Field,{field:e.fields.publishedAt}),n.createElement(s.l0.Field,{field:e.fields.vacancy}))}))}),"Параметры фильтрации")),D=function(){return n.createElement(r.Z,{title:"Контент :: Вакансии :: Отклики на вакансии"},n.createElement(A,null))}},2965:(e,t,a)=>{a.d(t,{J:()=>u.Z,Z:()=>b});var n=a(4942),r=a(7294),l=a(4586),c=a(3884),s=a(2723),o=a(7390),i=a(8776),m=a(9466),u=a(325);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={sortBy:"updatedAt",sortOrder:"DESC"};const b=(0,i.Z)((function(e){var t=e.endpoint,a=e.columns,n=e.templates,s=e.sort,o=void 0===s?p:s,i=(0,u.o)(),d=i.state,b=i.update,v=i.request,E=d.pagination,y={endpoint:t,page:E.page,size:E.size,sort:d.sort},g=JSON.stringify(y);(0,r.useEffect)((function(){return b(f(f({},d),{},{sort:o}))}),[]),(0,r.useEffect)((function(){return d.sort&&v(y)}),[g,d.timestamp]);var _=n.toolbar,h=n.row;return r.createElement(r.Fragment,null,_&&r.createElement(_,null,r.createElement(m.Z,{columns:a})),r.createElement(c.bZ,{variant:"info",isVisible:d.isFiltered,isDismissible:!1},"Показаны все элементы с учётом параметров фильтрации"),r.createElement(c.wQ,{columns:a},"FETCHING"===d.status&&r.createElement(c.wQ.Loading,{span:a.length,rows:E.size}),"FETCH_FAILED"===d.status&&r.createElement(c.wQ.Error,{span:a.length}),"WAITING"===d.status&&r.createElement(r.Fragment,null,0===d.data.length&&r.createElement(c.wQ.Empty,{span:a.length}),d.data.map((function(e){return r.createElement(c.wQ.Row,{key:(0,l.Z)(),template:r.createElement(h,{data:e})})})))),r.createElement(c.tl,{resultsTotal:E.total,resultsPerPage:E.size,page:E.page,navigate:function(e){b(f(f({},d),{},{pagination:f(f({},E),{},{page:e})}))}}))}),(0,o.Z)(s.Z))},8681:(e,t,a)=>{a.d(t,{Z:()=>N});var n=a(885),r=a(7294),l=a(4184),c=a.n(l),s=a(3884),o=a(3379),i=a.n(o),m=a(7795),u=a.n(m),d=a(569),f=a.n(d),p=a(3565),b=a.n(p),v=a(9216),E=a.n(v),y=a(4589),g=a.n(y),_=a(1281),h={};h.styleTagTransform=g(),h.setAttributes=b(),h.insert=f().bind(null,"head"),h.domAPI=u(),h.insertStyleElement=E(),i()(_.Z,h),_.Z&&_.Z.locals&&_.Z.locals;var O=r.forwardRef((function(e,t){var a=e.title,n=e.isVisible,l=void 0===n||n,o=e.children,i=c()(["off-canvas",l&&"off-canvas--visible"]);return r.createElement("div",{className:i},r.createElement("div",{className:"off-canvas__content",ref:t},r.createElement("div",{className:"off-canvas__header"},a),r.createElement("div",{className:"off-canvas__body"},o)),l&&r.createElement(s.aV,null))}));O.displayName="OffCanvas";const w=O;var Z=a(6625),j=a(3150);const N=function(e,t,a){var l=function(l){var c=(0,Z.Z)(!1),s=(0,n.Z)(c,3),o=s[0],i=s[1],m=s[2],u=(0,r.useState)(!1),d=(0,n.Z)(u,2),f=d[0],p=d[1];return r.createElement(j.Z.Provider,{value:{toggle:function(e){m(void 0!==e?e:!i),p(!0)}}},r.createElement(e,l),r.createElement(w,{isVisible:i,ref:o,title:a},f&&r.createElement(t,null)))};return l.displayName=e.displayName||e.name||"Component",l}},1281:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(8081),r=a.n(n),l=a(3645),c=a.n(l)()(r());c.push([e.id,".off-canvas__content{display:flex;flex-direction:column;justify-content:stretch;position:fixed;z-index:1100;top:0;right:-400px;bottom:0;width:400px;background-color:#fff;box-shadow:0 1px 2px rgba(33,37,41,.25);transition:transform .2s ease-in-out}.off-canvas__header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1rem;font-size:1.25rem;letter-spacing:-0.025rem}.off-canvas__body{flex-grow:1;padding:1rem 1rem;overflow-y:auto}.off-canvas--visible .off-canvas__content{transform:translateX(-100%)}",""]);const s=c},6282:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(8081),r=a.n(n),l=a(3645),c=a.n(l)()(r());c.push([e.id,".data-table__col--sort{width:8.25rem}",""]);const s=c}}]);