"use strict";(self.webpackChunkadmin_rusiem_com=self.webpackChunkadmin_rusiem_com||[]).push([[813],{2195:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7697);const l={title:{name:"title",label:"Название",hint:"Допускается не более 250 символов."},slug:{type:"slug",name:"slug",label:"Символьный код",hint:"Допускается не более 250 символов из набора [a-z0-9_]. Генерируется автоматически если значение не заполнено."},description:{name:"description",type:"textarea",label:"Аннотация",hint:"Допускается обычный текст и HTML код."},content:{name:"content",type:"textarea",label:"Основной текст",hint:"Допускается обычный текст и HTML код.",attrs:{size:"large"}},sort:{name:"sort",type:"number",label:"Индекс сортировки",hint:"Значение определяющее положение элемента в списке элементов."},publishedAt:{type:"datetime",name:"publishedAt",label:"Дата публикации",hint:"Дата, отображаемая пользователям на сайте."},isPublished:{type:"checkbox",name:"isPublished",label:"Опубликовать элемент?",hint:"Только опубликованные элементы видны пользователям."},sites:{type:"choices",name:"sites",label:"Отображать на сайтах",hint:"Выберите один или несколько сайтов, на которых элемент будет доступен.",attrs:{isMultiple:!0,choicesCallback:function(){return r.Z.lookup("/sites")}}},locale:{type:"choices",name:"locale",label:"Отображать для локали",hint:"Выберите локаль, для которой элемент будет отображаться на сайте.",attrs:{choicesCallback:function(){return r.Z.lookup("/locales")}}},tags:{type:"select",name:"tags",label:"Привязка к тегам",hint:"Выберите один или несколько тегов, которые будут присвоены элементу.",attrs:{isMultiple:!0,size:10,optionsCallback:function(){return r.Z.lookup("/catalog/tags/lookup?context=news")}}}}},2813:(e,t,n)=>{n.d(t,{Z:()=>N});var r=n(7294),l=n(6974),a=n(8594),i=n(4942),s=n(3884);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=function(e){var t=e.fields;return r.createElement("div",{className:"grid-view__left-pane"},r.createElement("div",{className:"grid-view__columns"},r.createElement(s.l0.Field,{field:t.publishedAt})),r.createElement(s.l0.Field,{field:t.title}),r.createElement(s.l0.Field,{field:o(o({},t.slug),{},{attrs:{value:t.title.value}})}),r.createElement(s.l0.Field,{field:t.description}),r.createElement(s.l0.Field,{field:t.content}),r.createElement("div",{className:"grid-view__columns"},r.createElement(s.l0.Field,{field:t.sort}),r.createElement(s.l0.Field,{field:t.group})))},m=function(e){var t=e.fields;return r.createElement("div",{className:"grid-view__right-pane"},r.createElement(s.l0.Group,null,r.createElement(s.l0.Field,{field:t.isPublished})),r.createElement(s.l0.Group,null,r.createElement(s.l0.Field,{field:t.sites}),r.createElement(s.l0.Field,{field:t.locale})))};var d=new Date;const f={slug:"novaya-vakansiya",title:"Новая вакансия",content:"",description:"",isPublished:!0,publishedAt:new Date(d.getTime()-60*d.getTimezoneOffset()*1e3).toISOString(),locale:"ru",sort:100};var p=n(2195),v=n(7697),b={type:"select",name:"group",label:"Группа вакансий",hint:"Установите привязку к группе вакансий.",attrs:{optionsCallback:function(){return v.Z.lookup("/vacancies/groups")}}};const w={title:p.Z.title,slug:p.Z.slug,description:p.Z.description,content:p.Z.content,sort:p.Z.sort,publishedAt:p.Z.publishedAt,isPublished:p.Z.isPublished,sites:p.Z.sites,locale:p.Z.locale,group:b};var g=n(3379),E=n.n(g),y=n(7795),h=n.n(y),O=n(569),_=n.n(O),Z=n(3565),k=n.n(Z),P=n(9216),j=n.n(P),S=n(4589),A=n.n(S),D=n(412),x={};x.styleTagTransform=A(),x.setAttributes=k(),x.insert=_().bind(null,"head"),x.domAPI=h(),x.insertStyleElement=j(),E()(D.Z,x),D.Z&&D.Z.locals&&D.Z.locals;const N=function(e){var t=e.isNewElement,n=void 0!==t&&t,i=(0,l.UO)().uuid,s={request:i&&"GET:/vacancies/".concat(i),submit:n?"POST:/vacancies":i&&"PUT:/vacancies/".concat(i),success:"/content/vacancies/vacancies"};return r.createElement(a.Z,{endpoints:s,fields:w,defaults:f},(function(e){return r.createElement(r.Fragment,null,r.createElement(u,{fields:e.fields}),r.createElement(m,{fields:e.fields}))}))}},8594:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(885),l=n(4925),a=n(7294),i=n(9711),s=n(6974),c=n(3884),o=n(1394),u=n(4393);const m=function(e){var t=e.workflow,n=e.defaults;return a.createElement(a.Fragment,null,a.createElement("span",null,"Создано ",t&&t.createdBy||(null==n?void 0:n.name)),a.createElement("span",null,t&&t.createdAt?a.createElement(c.ZX,{format:"datetime",value:t.createdAt}):null==n?void 0:n.date))},d=function(e){var t=e.workflow,n=e.defaults;return a.createElement(a.Fragment,null,a.createElement("span",null,"Изменено ",t&&t.updatedBy||(null==n?void 0:n.name)),a.createElement("span",null,t&&t.updatedAt?a.createElement(c.ZX,{format:"datetime",value:t.updatedAt}):null==n?void 0:n.date))};var f=n(3379),p=n.n(f),v=n(7795),b=n.n(v),w=n(569),g=n.n(w),E=n(3565),y=n.n(E),h=n(9216),O=n.n(h),_=n(4589),Z=n.n(_),k=n(3135),P={};P.styleTagTransform=Z(),P.setAttributes=y(),P.insert=g().bind(null,"head"),P.domAPI=b(),P.insertStyleElement=O(),p()(k.Z,P),k.Z&&k.Z.locals&&k.Z.locals;const j=function(){var e=(0,u.o)().state.data.workflow,t={name:"Джон Смит",date:"Дата неизвестна"};return a.createElement("div",{className:"workflow-view"},a.createElement("div",{className:"workflow-view__item workflow-view__item--created"},a.createElement("div",{className:"workflow-view__icon"},a.createElement(c.JO,{name:"clock"})),a.createElement("div",{className:"workflow-view__text"},a.createElement(m,{workflow:e,defaults:t}))),a.createElement("div",{className:"workflow-view__item workflow-view__item--updated"},a.createElement("div",{className:"workflow-view__icon"},a.createElement(c.JO,{name:"clock"})),a.createElement("div",{className:"workflow-view__text"},a.createElement(d,{workflow:e,defaults:t}))))};var S=n(4752),A={};A.styleTagTransform=Z(),A.setAttributes=y(),A.insert=g().bind(null,"head"),A.domAPI=b(),A.insertStyleElement=O(),p()(S.Z,A),S.Z&&S.Z.locals&&S.Z.locals;var D=["children"];const x=(0,o.Jt)((function(e){var t=e.children,n=(0,l.Z)(e,D),u=(0,a.useState)("submit"),m=(0,r.Z)(u,2),d=m[0],f=m[1],p=n.fields,v=n.defaults,b=n.endpoints,w=(0,s.s0)();return a.createElement(o.ZP,{endpoints:b,fields:p,defaults:v,onSubmitSucceed:function(){"submit"===d&&w((null==b?void 0:b.success)||"/")}},a.createElement("div",{className:"grid-view"},a.createElement(o._y.Consumer,null,t)),a.createElement(c.l0.Actions,null,a.createElement("div",null,a.createElement(c.zx,{isSubmit:!0,variant:"primary",onClick:function(){return f("submit")}},"Сохранить"),a.createElement(c.zx,{isSubmit:!0,variant:"default",onClick:function(){return f("apply")}},"Применить")),a.createElement(i.rU,{to:(null==b?void 0:b.success)||"/",className:"btn btn--default"},"Отменить")),a.createElement(j,null))}))},1394:(e,t,n)=>{n.d(t,{_y:()=>c,ZP:()=>w,Jt:()=>u.Z});var r=n(4942),l=n(7294),a=n(4184),i=n.n(a),s=n(3884);const c=l.createContext({fields:{}});var o=n(885),u=n(4393);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f=function(e){var t=(0,u.o)(),n=t.state,l=t.update,a=Object.entries(e).map((function(e){var t=(0,o.Z)(e,2),a=t[0],i=t[1],s=n.data[i.name],c={value:null==s?i.emptyValue||"":s,errors:n.errors[i.name],onChange:function(e){l(d(d({},n),{},{data:d(d({},n.data),{},(0,r.Z)({},i.name,e))}))}};return[a,d(d({},i),c)]}));return Object.fromEntries(a)};var p=n(6974);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const w=function(e){var t=(0,l.useRef)(null),n=e.fields,r=e.defaults,a=void 0===r?{}:r,o=e.variant,m=e.endpoints,d=e.children,v=(0,u.o)(),w=function(e){var t=e.endpoints,n=e.onSubmit,r=e.onSubmitSucceed,l=(0,u.o)(),a=(0,p.s0)();return{submit:function(e){e.preventDefault(),"function"==typeof n?n(e):null!=t&&t.submit&&l.submit(t.submit,l.state.data).then((function(e){return"function"==typeof r?r(e):void a((null==t?void 0:t.success)||"/")})).catch((function(e){return e}))}}}(e);(0,l.useEffect)((function(){return v.update(b(b({},v.state),{},{data:a})),m&&m.request&&v.request(m.request),function(){return v.reset()}}),[]);var g=i()("form-view",o&&"form-view--".concat(o)),E="VALIDATION_FAILED"===v.state.status,y="SUBMIT_FAILED"===v.state.status,h="SUBMIT_SUCCEED"===v.state.status;return(0,l.useEffect)((function(){(y||h||E)&&t.current&&t.current.scrollIntoView({behavior:"smooth"})}),[h,y,E]),l.createElement(c.Provider,{value:{fields:f(n||{})}},l.createElement("div",{ref:t},l.createElement(s.bZ,{variant:"danger",isVisible:y},"Ошибка сохранения изменений. Пожалуйста, попробуйте позже."),l.createElement(s.bZ,{variant:"warning",isVisible:E},"Вероятно, некоторые поля формы заполнены неверно"),l.createElement(s.bZ,{variant:"success",isVisible:h},"Изменения успешно сохранены")),l.createElement("div",{className:g},l.createElement(s.l0,{onSubmit:w.submit},d)))}},412:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),l=n.n(r),a=n(3645),i=n.n(a)()(l());i.push([e.id,'@media(min-width: 1200px){.grid-view{display:grid;grid-template-columns:2fr 1fr;grid-template-rows:1fr;gap:0 2rem;grid-template-areas:". ."}.grid-view__columns{display:grid;grid-template-columns:1fr 1fr;grid-template-areas:". .";gap:0 2rem}}',""]);const s=i},4752:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),l=n.n(r),a=n(3645),i=n.n(a)()(l());i.push([e.id,'@media(min-width: 1200px){.grid-view{display:grid;grid-template-columns:2fr 1fr;grid-template-rows:1fr;gap:0 2rem;grid-template-areas:". ."}.grid-view__columns{display:grid;grid-template-columns:1fr 1fr;grid-template-areas:". .";gap:0 2rem}}',""]);const s=i},3135:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),l=n.n(r),a=n(3645),i=n.n(a)()(l());i.push([e.id,".workflow-view{display:flex;font-size:.875em;color:#343a40;margin-top:2rem}.workflow-view__item{display:flex}.workflow-view__item~.workflow-view__item{margin-left:2rem}.workflow-view__icon{color:#6c757d}.workflow-view__text{display:flex;flex-direction:column;margin-left:1rem}",""]);const s=i}}]);